define(["jquery","config","datepicker","layer"],function(t,n){var e={getQuery:function(t){var n=new RegExp("(^|&)"+t+"=([^&]*)(&|$)"),e=window.location.search.substr(1).match(n);return null!=e?unescape(e[2]):null},showLoading:function(n){t(n).find("tbody").append("<img id='loading' src='/images/loading.gif'>").find("td").addClass("isLoading")},selectAll:function(){t("tr th input[type=checkbox]").on("change",function(){var n=t(this);n.prop("checked")?n.parents("tr").siblings("tr").find("input[type=checkbox]").prop("checked",!0):n.parents("tr").siblings("tr").find("input[type=checkbox]").prop("checked",!1)})},initDatePicker:function(){var n=t("#dateStart"),e=t("#dateEnd");n.datetimepicker({lang:"ch",timepicker:!1,format:"Y-m-d",formatDate:"Y-m-d",scrollInput:!1,validateOnBlur:!1,onShow:function(t){this.setOptions({maxDate:e.val()?e.val():"+1970-01-01"})}}),e.datetimepicker({lang:"ch",timepicker:!1,format:"Y-m-d",formatDate:"Y-m-d",scrollInput:!1,validateOnBlur:!1,maxDate:"+1970-01-01",onShow:function(t){this.setOptions({minDate:!!n.val()&&n.val()})}})},getCheckedArr:function(){var n=[],e=t(".data-container table tbody input[type=checkbox]:checked");return e.each(function(e,i){n.push(t(this).val())}),n},initClientInfo:function(){var n=e.getQuery("uid");t(".data-container .tab-btns a").each(function(){var e=t(this),i=e.attr("href")+"?uid="+n;e.attr("href",i)})},validate:function(){}};return e});